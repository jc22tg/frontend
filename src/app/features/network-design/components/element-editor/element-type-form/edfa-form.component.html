<!-- Formulario específico para componentes EDFA -->
<div class="type-specific-form" [formGroup]="parentForm">
  <!-- Información básica -->
  <div class="form-row" formGroupName="properties">
    <mat-form-field appearance="outline">
      <mat-label>Modelo</mat-label>
      <input matInput formControlName="model">
      <mat-error *ngIf="hasError('model', 'required')">El modelo es obligatorio</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Fabricante</mat-label>
      <input matInput formControlName="manufacturer">
      <mat-error *ngIf="hasError('manufacturer', 'required')">El fabricante es obligatorio</mat-error>
    </mat-form-field>
  </div>

  <!-- Propiedades específicas del EDFA -->
  <ng-container *ngIf="propertiesGroup">
    <h3 class="section-title">Propiedades técnicas</h3>
    
    <div class="form-row" formGroupName="properties">
      <mat-form-field appearance="outline">
        <mat-label>Ganancia (dB)</mat-label>
        <input matInput type="number" formControlName="gainDb">
        <mat-error *ngIf="hasError('gainDb', 'required')">La ganancia es obligatoria</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Longitud de onda (nm)</mat-label>
        <input matInput type="number" formControlName="wavelength">
        <mat-error *ngIf="hasError('wavelength', 'required')">La longitud de onda es obligatoria</mat-error>
      </mat-form-field>
    </div>
    
    <!-- Rangos de potencia -->
    <ng-container *ngIf="inputPowerRangeGroup">
      <h3 class="section-title">Rango de potencia de entrada</h3>
      <div class="form-row" formGroupName="properties">
        <ng-container formGroupName="inputPowerRange">
          <mat-form-field appearance="outline">
            <mat-label>Mínimo (dBm)</mat-label>
            <input matInput type="number" formControlName="min">
            <mat-error *ngIf="inputPowerRangeGroup.get('min')?.hasError('required')">
              El valor mínimo es obligatorio
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Máximo (dBm)</mat-label>
            <input matInput type="number" formControlName="max">
            <mat-error *ngIf="inputPowerRangeGroup.get('max')?.hasError('required')">
              El valor máximo es obligatorio
            </mat-error>
          </mat-form-field>
        </ng-container>
      </div>
    </ng-container>

    <ng-container *ngIf="outputPowerRangeGroup">
      <h3 class="section-title">Rango de potencia de salida</h3>
      <div class="form-row" formGroupName="properties">
        <ng-container formGroupName="outputPowerRange">
          <mat-form-field appearance="outline">
            <mat-label>Mínimo (dBm)</mat-label>
            <input matInput type="number" formControlName="min">
            <mat-error *ngIf="outputPowerRangeGroup.get('min')?.hasError('required')">
              El valor mínimo es obligatorio
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Máximo (dBm)</mat-label>
            <input matInput type="number" formControlName="max">
            <mat-error *ngIf="outputPowerRangeGroup.get('max')?.hasError('required')">
              El valor máximo es obligatorio
            </mat-error>
          </mat-form-field>
        </ng-container>
      </div>
    </ng-container>
  </ng-container>
</div> 