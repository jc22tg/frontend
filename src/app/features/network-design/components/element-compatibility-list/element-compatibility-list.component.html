<div class="compatibility-container">
  <div class="compatibility-title">
    <mat-icon class="title-icon">device_hub</mat-icon>
    <span>Compatibilidad de {{ getSelectedElementTypeName() }}</span>
  </div>

  <!-- Estado de carga -->
  <div class="loading-state" *ngIf="isLoading" @fadeAnimation>
    <div class="skeleton-card">
      <div class="skeleton-header"></div>
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
      <div class="skeleton-item"></div>
    </div>
  </div>

  <!-- Estado de selección -->
  <div class="selection-state" *ngIf="!isLoading && !selectedElement && !selectedElementType" @fadeAnimation>
    <mat-icon class="info-icon">info</mat-icon>
    <p>Seleccione un elemento para ver su compatibilidad</p>
  </div>

  <!-- Listas de compatibilidad -->
  <div class="compatibility-lists" *ngIf="!isLoading && (selectedElement || selectedElementType)" @fadeAnimation>
    <!-- Mensaje informativo -->
    <div class="compatibility-info" *ngIf="hasCompatibleTypes() || hasIncompatibleTypes()">
      <p>La compatibilidad muestra con qué elementos puede conectarse directamente en la red.</p>
    </div>
    
    <!-- Mensaje cuando no hay datos -->
    <div class="empty-state" *ngIf="!hasCompatibleTypes() && !hasIncompatibleTypes()" @fadeAnimation>
      <mat-icon class="empty-icon">search_off</mat-icon>
      <p>No hay información de compatibilidad disponible</p>
    </div>

    <!-- Lista de elementos compatibles -->
    <mat-card class="compatibility-card compatible" *ngIf="hasCompatibleTypes()" @fadeAnimation>
      <mat-card-header>
        <mat-card-title>
          <mat-icon class="compatible-icon" aria-hidden="true">check_circle</mat-icon>
          <span>Elementos Compatibles</span>
        </mat-card-title>
        <span class="count-badge" aria-label="Cantidad de elementos compatibles">{{ compatibleTypes.length }}</span>
      </mat-card-header>
      <mat-card-content>
        <div class="compatibility-scroll-container">
          <mat-list role="list">
            <mat-list-item role="listitem" *ngFor="let type of compatibleTypes" class="compatible-item" @listAnimation>
              <mat-icon class="element-icon" aria-hidden="true">{{ getElementTypeIcon(type) }}</mat-icon>
              <span class="element-type-name">{{ getElementTypeName(type) }}</span>
            </mat-list-item>
          </mat-list>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Lista de elementos incompatibles -->
    <mat-card class="compatibility-card incompatible" *ngIf="hasIncompatibleTypes()" @fadeAnimation>
      <mat-card-header>
        <mat-card-title>
          <mat-icon class="incompatible-icon" aria-hidden="true">cancel</mat-icon>
          <span>Elementos Incompatibles</span>
        </mat-card-title>
        <span class="count-badge" aria-label="Cantidad de elementos incompatibles">{{ incompatibleTypes.length }}</span>
      </mat-card-header>
      <mat-card-content>
        <div class="compatibility-scroll-container">
          <mat-list role="list">
            <mat-list-item role="listitem" *ngFor="let type of incompatibleTypes" class="incompatible-item" @listAnimation>
              <mat-icon class="element-icon" aria-hidden="true">{{ getElementTypeIcon(type) }}</mat-icon>
              <span class="element-type-name">{{ getElementTypeName(type) }}</span>
            </mat-list-item>
          </mat-list>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div> 