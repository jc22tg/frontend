import{a as Z}from"./chunk-P65VXPTK.js";import{m as Y}from"./chunk-7JRIPI7N.js";import{a as U,c as W,d as X}from"./chunk-Q2I2H6RZ.js";import"./chunk-MHWJR3EV.js";import{a as I,b as E}from"./chunk-D3FDFS7S.js";import{d as H,e as J,g as K,j as Q}from"./chunk-RWQWO3EM.js";import{B as z,b as q,d as M,g as A,h as D,l as R,o as $,r as V,x as G,z as j}from"./chunk-JO2MD4NL.js";import{a as L,b as k,i as B,j as N,n as T}from"./chunk-XJSBNB6N.js";import"./chunk-4PHUDKEH.js";import{d as y,e as S,i as w}from"./chunk-D4QL4JVC.js";import{$a as m,$b as v,$c as C,Gb as t,Hb as o,Ib as _,Nc as F,Ob as d,Tc as O,_b as i,ac as x,db as f,kb as b,mc as g,nc as c,qb as p,xb as l}from"./chunk-FG6FKNI4.js";import"./chunk-OXVY4BEJ.js";function ie(n,r){if(n&1&&(t(0,"div",11),i(1),o()),n&2){let a=r.ngIf;m(),x(" ",a," ")}}function re(n,r){n&1&&(t(0,"mat-error"),i(1," El email es requerido "),o())}function ae(n,r){n&1&&(t(0,"mat-error"),i(1," Por favor, ingrese un email v\xE1lido "),o())}function me(n,r){n&1&&(t(0,"mat-error"),i(1," La contrase\xF1a es requerida "),o())}function le(n,r){n&1&&(t(0,"span"),i(1,"Iniciar Sesi\xF3n"),o())}function se(n,r){n&1&&_(0,"mat-spinner",12),n&2&&l("diameter",24)}var h=class n{constructor(r,a,e){this.fb=r;this.store=a;this.router=e;this.loginForm=this.fb.group({email:["",[M.required,M.email]],password:["",M.required]}),this.loginForm.setValue({email:"admin@example.com",password:"Admin123!"}),this.loading$=this.store.select(s=>s?.auth?.loading??!1),this.error$=this.store.select(s=>s?.auth?.error??null)}loginForm;loading$;error$;hidePassword=!0;togglePasswordVisibility(){this.hidePassword=!this.hidePassword}onSubmit(){if(this.loginForm.valid){let{email:r,password:a}=this.loginForm.value;this.store.dispatch(Z({email:r,password:a})),this.store.select(e=>e.auth).subscribe(e=>{e?.user&&this.router.navigate(["/dashboard"])})}}static \u0275fac=function(a){return new(a||n)(f(j),f(Y),f(y))};static \u0275cmp=b({type:n,selectors:[["app-login-form"]],decls:27,vars:18,consts:[[1,"login-form",3,"ngSubmit","formGroup"],[1,"login-title"],["class","error-message",4,"ngIf"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","required","","title","Email","placeholder","Ingrese su email"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","","title","Contrase\xF1a","placeholder","Ingrese su contrase\xF1a",3,"type"],["type","button","mat-icon-button","","matSuffix","","tabindex","-1",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["class","spinner",3,"diameter",4,"ngIf"],[1,"error-message"],[1,"spinner",3,"diameter"]],template:function(a,e){if(a&1&&(t(0,"form",0),d("ngSubmit",function(){return e.onSubmit()}),t(1,"h1",1),i(2,"Iniciar Sesi\xF3n"),o(),p(3,ie,2,1,"div",2),g(4,"async"),t(5,"mat-form-field",3)(6,"mat-label"),i(7,"Email"),o(),_(8,"input",4),t(9,"mat-icon",5),i(10,"person"),o(),p(11,re,2,0,"mat-error",6)(12,ae,2,0,"mat-error",6),o(),t(13,"mat-form-field",3)(14,"mat-label"),i(15,"Contrase\xF1a"),o(),_(16,"input",7),t(17,"button",8),d("click",function(){return e.togglePasswordVisibility()}),t(18,"mat-icon"),i(19),o()(),p(20,me,2,0,"mat-error",6),o(),t(21,"button",9),g(22,"async"),p(23,le,2,0,"span",6),g(24,"async"),p(25,se,1,1,"mat-spinner",10),g(26,"async"),o()()),a&2){let s,u,P;l("formGroup",e.loginForm),m(3),l("ngIf",c(4,10,e.error$)),m(8),l("ngIf",(s=e.loginForm.get("email"))==null?null:s.hasError("required")),m(),l("ngIf",(u=e.loginForm.get("email"))==null?null:u.hasError("email")),m(4),l("type",e.hidePassword?"password":"text"),m(3),v(e.hidePassword?"visibility_off":"visibility"),m(),l("ngIf",(P=e.loginForm.get("password"))==null?null:P.hasError("required")),m(),l("disabled",!e.loginForm.valid||c(22,12,e.loading$)),m(2),l("ngIf",!c(24,14,e.loading$)),m(2),l("ngIf",c(26,16,e.loading$))}},dependencies:[z,R,q,A,D,G,$,V,U,Q,H,J,K,X,W,T,N,B,k,L,E,I,C,F,O],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;max-width:400px;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem;color:#3f51b5}.error-message[_ngcontent-%COMP%]{color:#f44336;padding:.5rem;margin-bottom:1rem;border:1px solid #f44336;border-radius:4px;background-color:#ffebee}.full-width[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{margin:0 auto}"]})};var ee=class n{onLoginSubmit(r){console.log("Login data:",r)}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=b({type:n,selectors:[["app-login"]],decls:12,vars:0,consts:[[1,"login-page"],[1,"login-container"],[1,"subtitle"],[3,"submit"],[1,"links"],["routerLink","/auth/forgot-password"],["routerLink","/auth/register"]],template:function(a,e){a&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Bienvenido"),o(),t(4,"p",2),i(5,"Inicia sesi\xF3n para continuar"),o(),t(6,"app-login-form",3),d("submit",function(u){return e.onLoginSubmit(u)}),o(),t(7,"div",4)(8,"a",5),i(9,"\xBFOlvidaste tu contrase\xF1a?"),o(),t(10,"a",6),i(11,"\xBFNo tienes una cuenta? Reg\xEDstrate"),o()()()())},dependencies:[C,w,S,h],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;padding:2rem}.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;text-align:center}.login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#333}.login-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin-bottom:2rem}.links[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;gap:.5rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;font-size:.9rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#333}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#666}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .2s}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};export{ee as LoginComponent};
