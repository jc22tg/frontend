import{a as Ee}from"./chunk-EQX7UBG4.js";import{b as Ie}from"./chunk-Y6VATWWK.js";import{b as m,c as y,d as E,e as I}from"./chunk-YFYY4JIQ.js";import{b as Ce,c as be,d as Pe,e as xe,f as ve,g as ye}from"./chunk-JGNBERAY.js";import{a as Me,c as _e,d as Oe}from"./chunk-Q2I2H6RZ.js";import{a as de,b as se,e as me,h as pe}from"./chunk-RMHD7ZOV.js";import{e as Fe}from"./chunk-KIEZATJL.js";import{a as s,b as C,c as v,f as M}from"./chunk-VONGITAP.js";import{h as fe}from"./chunk-GQNYZBS2.js";import{d as ue}from"./chunk-NI7QRJ7Q.js";import{a as X,b as Q}from"./chunk-F5P253LU.js";import{a as U,b as G}from"./chunk-D3FDFS7S.js";import{d as ge,j as he}from"./chunk-RWQWO3EM.js";import{A as ce,B as le,b as Y,d as f,g as Z,h as V,l as ee,m as te,o as ne,r as oe,w as ie,x as ae,z as re}from"./chunk-JO2MD4NL.js";import{a as q,b as K,j as H,n as J}from"./chunk-XJSBNB6N.js";import{w as W}from"./chunk-VH7SA6GK.js";import{$a as l,$b as x,$c as $,Gb as i,Hb as o,Ib as g,Lc as B,Mc as L,Nc as R,Ob as k,Q as P,_b as r,ac as N,da as p,f as A,g as O,ja as D,jc as j,kb as z,pa as u,qb as T,s as b,xb as d}from"./chunk-FG6FKNI4.js";import{a as S,b as w}from"./chunk-OXVY4BEJ.js";var Se=(()=>{class c{constructor(){this.elementsSubject=new O([]),this.selectedElementSubject=new O(null),this.multipleSelectionSubject=new O([]),this.multipleSelection$=this.multipleSelectionSubject.asObservable(),this.activeFiltersSubject=new O({}),this.activeFilters$=this.activeFiltersSubject.asObservable(),this.initializeElements()}initializeElements(){}getElements(){return this.elementsSubject.asObservable()}getElementById(e){return this.elementsSubject.pipe(b(t=>t.find(n=>n.id===e)||null))}getElementsByType(e){return this.elementsSubject.pipe(b(t=>t.filter(n=>n.type===e)))}getElementsByStatus(e){return this.elementsSubject.pipe(b(t=>t.filter(n=>n.status===e)))}addElement(e){let t=this.elementsSubject.value;this.elementsSubject.next([...t,e])}updateElement(e){let t=this.elementsSubject.value,n=t.findIndex(a=>a.id===e.id);n!==-1&&(t[n]=e,this.elementsSubject.next([...t]))}deleteElement(e){let t=this.elementsSubject.value;this.elementsSubject.next(t.filter(n=>n.id!==e))}getSelectedElement(){return this.selectedElementSubject.asObservable()}selectElement(e){this.selectedElementSubject.next(e)}searchElements(e){return this.elementsSubject.pipe(b(t=>t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())||(n.id?n.id.toLowerCase().includes(e.toLowerCase()):!1))))}filterElements(e){return this.elementsSubject.pipe(b(t=>t.filter(n=>{if(e.type&&n.type!==e.type||e.status&&n.status!==e.status)return!1;if(e.search){let a=e.search.toLowerCase();return n.name.toLowerCase().includes(a)||(n.id?n.id.toLowerCase().includes(a):!1)}return!0})))}exportElements(){}clearElements(){this.elementsSubject.next([])}clearSelection(){this.selectedElementSubject.next(null)}setMultipleSelection(e){this.multipleSelectionSubject.next([...e])}addToMultipleSelection(e){let t=this.multipleSelectionSubject.value;t.some(n=>n.id===e.id)||this.multipleSelectionSubject.next([...t,e])}removeFromMultipleSelection(e){let t=this.multipleSelectionSubject.value;this.multipleSelectionSubject.next(t.filter(n=>n.id!==e))}clearMultipleSelection(){this.multipleSelectionSubject.next([])}setFilters(e){this.activeFiltersSubject.next(e)}getFilters(){return this.activeFiltersSubject.value}clearFilters(){this.activeFiltersSubject.next({})}getMultipleSelection(){return this.multipleSelection$}getActiveFilters(){return this.activeFilters$}isOLT(e){return e&&e.type==="OLT"}isONT(e){return e&&e.type==="ONT"}isODF(e){return e&&e.type==="ODF"}isEDFA(e){return e&&e.type==="EDFA"}isSplitter(e){return e&&e.type==="SPLITTER"}isManga(e){return e&&e.type==="MANGA"}isTerminalBox(e){return e&&e.type==="TERMINAL_BOX"}isSlackFiber(e){return e&&e.type==="SLACK_FIBER"}isFiberThread(e){return e&&e.type==="FIBER_THREAD"}isRack(e){return e&&e.type==="RACK"}getElementsByRackId(e){return this.getElements().pipe(b(t=>t.filter(n=>"rackId"in n&&n.rackId===e)))}static{this.\u0275fac=function(t){return new(t||c)}}static{this.\u0275prov=D({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var ke=(c,_)=>({create:c,edit:_});function Ne(c,_){if(c&1&&(i(0,"mat-option",17),r(1),o()),c&2){let e=_.$implicit;d("value",e.id),l(),N(" ",e.name," ")}}function Ae(c,_){if(c&1&&(i(0,"mat-option",17),r(1),o()),c&2){let e=_.$implicit;d("value",e.id),l(),N(" ",e.name," ")}}function De(c,_){c&1&&g(0,"mat-spinner",28)}var _t=(()=>{class c{constructor(){this.mode="create",this.ElementStatus=C,this.FiberType=v,this.FiberUsageType=m,this.ConnectorType=y,this.FiberStandard=E,this.PolishingType=I,this.objectKeys=Object.keys,this.availableElements=[],this.sourceElement=null,this.targetElement=null,this.loading=!1,this._availableTargets=[],this.destroy$=new A,this.detailedFiberInfo=null,this.fb=u(re),this.dialogRef=u(de),this.elementManagementService=u(Se),this.connectionService=u(Ie),this.elementService=u(Fe),this.snackBar=u(Ce),this.data=u(se),this.mode=this.data?.mode||"edit";let e=this.data?.connection||null;this.connectionForm=this.fb.group({id:[e?.id||this.generateId()],sourceElementId:[e?.sourceElementId||"",f.required],targetElementId:[e?.targetElementId||"",f.required],status:[e?.status||C.ACTIVE,f.required],fiberType:[e?.properties?.fiberType||v.SINGLE_MODE],length:[e?.properties?.length||0,[f.min(0),f.pattern(/^\d+(\.\d{1,2})?$/)]],capacity:[e?.properties?.capacity||10,[f.min(0),f.pattern(/^\d+(\.\d{1,2})?$/)]],label:[e?.name||""],description:[e?.properties?.description||""],usageType:[m.DISTRIBUTION],connectorType:[y.SC],standard:[E.ITU_T_G_652],polishingType:[I.APC],manufacturer:[""],modelNumber:[""]})}ngOnInit(){if(console.log("ConnectionEditorComponent inicializado con datos:",this.data),this.loadAvailableElements(),this.mode==="edit"&&this.data.connection){let e=this.data.connection;e.type===M.FIBER&&e.detailedFiberConnectionId&&(this.loading=!0,this.connectionService.getDetailedFiberConnectionById(e.detailedFiberConnectionId).pipe(p(this.destroy$),P(()=>this.loading=!1)).subscribe(t=>{t?(this.detailedFiberInfo=t,console.log("Detailed Fiber Info Cargado:",this.detailedFiberInfo),this.connectionForm.patchValue({fiberType:this.detailedFiberInfo.fiberType,length:this.detailedFiberInfo.networkInfo?.distanceMetrics?.totalLength||this.detailedFiberInfo.metadata?.length||this.connectionForm.value.length||0,capacity:this.detailedFiberInfo.strands?.total||this.connectionForm.value.capacity||0,description:this.detailedFiberInfo.description||this.connectionForm.value.description||"",label:this.detailedFiberInfo.name||this.connectionForm.value.label||"",usageType:this.detailedFiberInfo.usageType||m.DISTRIBUTION,connectorType:this.detailedFiberInfo.connectorType||y.SC,standard:this.detailedFiberInfo.standard||E.ITU_T_G_652,polishingType:this.detailedFiberInfo.polishingType||I.APC,manufacturer:this.detailedFiberInfo.manufacturer||"",modelNumber:this.detailedFiberInfo.modelNumber||""})):console.warn(`No se pudieron cargar los detalles para detailedFiberConnectionId: ${e.detailedFiberConnectionId}`)}))}this.connectionForm.get("sourceElementId")?.valueChanges.pipe(p(this.destroy$)).subscribe(e=>{this.updateSourceElement(),this.updateAvailableTargets(e)}),this.connectionForm.get("targetElementId")?.valueChanges.pipe(p(this.destroy$)).subscribe(()=>{this.updateTargetElement()}),this.connectionForm.get("sourceElementId")?.value&&(this.updateSourceElement(),this.updateAvailableTargets(this.connectionForm.get("sourceElementId")?.value)),this.connectionForm.get("targetElementId")?.value&&this.updateTargetElement()}ngOnDestroy(){this.cleanup()}cleanup(){this.destroy$.next(),this.destroy$.complete()}updateSourceElement(){let e=this.connectionForm.get("sourceElementId")?.value;e&&(this.sourceElement=this.availableElements.find(t=>t.id===e)||null,this._availableTargets=this.availableElements.filter(t=>t.id!==e))}updateTargetElement(){let e=this.connectionForm.get("targetElementId")?.value;e&&(this.targetElement=this.availableElements.find(t=>t.id===e)||null)}getAvailableTargets(){return this._availableTargets}getElementTypeName(e){return this.elementService.getElementTypeName(e)}getElementTypeIcon(e){return{[s.ODF]:"router",[s.OLT]:"settings_input_hdmi",[s.ONT]:"dns",[s.EDFA]:"tune",[s.SPLITTER]:"call_split",[s.MANGA]:"settings_input_component",[s.TERMINAL_BOX]:"archive",[s.RACK]:"domain",[s.FIBER_THREAD]:"timeline",[s.FIBER_CONNECTION]:"timeline",[s.SLACK_FIBER]:"waves",[s.CUSTOM]:"category"}[e]||"device_unknown"}getFiberTypeName(e){return{[v.SINGLE_MODE]:"Monomodo",[v.MULTI_MODE]:"Multimodo"}[e]||"Desconocido"}getStatusClass(){let e=this.connectionForm.get("status")?.value;return{[C.ACTIVE]:"active",[C.INACTIVE]:"inactive",[C.MAINTENANCE]:"maintenance",[C.ERROR]:"fault",[C.PLANNING]:"planned"}[e]||"active"}generateId(){return`conn-${Date.now()}-${Math.floor(Math.random()*1e3)}`}onCancel(){this.dialogRef.close()}onSave(){if(this.connectionForm.valid){this.loading=!0;let e=this.connectionForm.value,t=this.data.connection,n=t?.type||(e.fiberType?M.FIBER:M.LOGICAL);if(this.mode==="edit"&&t){let a=this.updateBaseNetworkConnection(t,e);a.type=n,a.type===M.FIBER&&this.detailedFiberInfo&&t.detailedFiberConnectionId?(a.detailedFiberConnectionId=t.detailedFiberConnectionId,this.detailedFiberInfo.name=e.label,this.detailedFiberInfo.fiberType=e.fiberType,this.detailedFiberInfo.description=e.description,this.detailedFiberInfo.networkInfo||(this.detailedFiberInfo.networkInfo={}),this.detailedFiberInfo.networkInfo.distanceMetrics||(this.detailedFiberInfo.networkInfo.distanceMetrics={totalLength:0,splicePoints:0,maxSpliceLoss:0,totalLoss:0}),this.detailedFiberInfo.networkInfo.distanceMetrics.totalLength=parseFloat(e.length)||0,this.detailedFiberInfo.strands||(this.detailedFiberInfo.strands={total:0,available:0,inUse:0,reserved:0,damaged:0}),this.detailedFiberInfo.strands.total=parseFloat(e.capacity)||0,this.detailedFiberInfo.usageType=e.usageType,this.detailedFiberInfo.connectorType=e.connectorType,this.detailedFiberInfo.standard=e.standard,this.detailedFiberInfo.polishingType=e.polishingType,this.detailedFiberInfo.manufacturer=e.manufacturer,this.detailedFiberInfo.modelNumber=e.modelNumber,this.connectionService.updateDetailedFiberConnection(this.detailedFiberInfo).pipe(p(this.destroy$)).subscribe({next:h=>{h?console.log("DetailedFiberInfo actualizado en el servicio:",h):this.showNotification("Advertencia: No se pudieron guardar todos los detalles de la fibra.","warning"),this.finalizeUpdateConnection(a)},error:h=>{this.handleError(h,"actualizar detalles de fibra"),this.finalizeUpdateConnection(a)}})):(a.detailedFiberConnectionId=void 0,this.finalizeUpdateConnection(a))}else if(this.mode==="create"){let a=this.createBaseNetworkConnection(e);if(a.type=n,a.type===M.FIBER){let h=this.generateDetailedFiberId();a.detailedFiberConnectionId=h;let we={id:h,name:e.label||`Detalle Fibra ${h}`,fiberType:e.fiberType,description:e.description||"",usageType:e.usageType||m.DISTRIBUTION,connectorType:e.connectorType||y.SC,standard:e.standard||E.ITU_T_G_652,polishingType:e.polishingType||I.APC,manufacturer:e.manufacturer||"N/A",modelNumber:e.modelNumber||"N/A",insertionLoss:0,returnLoss:0,wavelength:1310,bandwidth:0,coreDiameter:9,claddingDiameter:125,outerDiameter:3,operatingTemperature:{min:-20,max:70},tensileStrength:0,manufacturingDate:new Date,certifications:[],strands:{total:parseFloat(e.capacity)||0,available:parseFloat(e.capacity)||0,inUse:0,reserved:0,damaged:0},strandConfiguration:{totalStrands:parseFloat(e.capacity)||0,strandsPerTube:parseFloat(e.capacity)||0,tubesPerCable:1,bufferTubes:1,centralStrengthMember:!1},networkInfo:{distanceMetrics:{totalLength:parseFloat(e.length)||0,splicePoints:0,maxSpliceLoss:0,totalLoss:0}}};this.connectionService.createDetailedFiberConnection(we).pipe(p(this.destroy$)).subscribe({next:F=>{F?console.log("DetailedFiberConnection creado exitosamente:",F):(this.showNotification("Error: Fall\xF3 la creaci\xF3n de detalles de fibra. La conexi\xF3n no se cre\xF3 completamente.","error"),a.detailedFiberConnectionId=void 0),this.finalizeCreateConnection(a)},error:F=>{this.handleError(F,"crear detalles de fibra"),a.detailedFiberConnectionId=void 0,this.finalizeCreateConnection(a)}})}else this.finalizeCreateConnection(a)}}else Object.keys(this.connectionForm.controls).forEach(e=>{this.connectionForm.get(e)?.markAsTouched()}),this.showNotification("Por favor, complete correctamente los campos obligatorios","error"),this.loading=!1}finalizeCreateConnection(e){this.connectionService.createConnection(e).pipe(p(this.destroy$),P(()=>{this.loading=!1})).subscribe({next:t=>{this.showNotification("Conexi\xF3n creada exitosamente","success"),this.dialogRef.close(t)},error:t=>this.handleError(t,"crear conexi\xF3n base")})}finalizeUpdateConnection(e){this.connectionService.updateConnection(e).pipe(p(this.destroy$),P(()=>{this.loading=!1})).subscribe({next:t=>{this.showNotification("Conexi\xF3n actualizada exitosamente","success"),this.dialogRef.close(t)},error:t=>this.handleError(t,"actualizar conexi\xF3n base")})}showNotification(e,t){let n=`${t}-snackbar`;this.snackBar.open(e,"Cerrar",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:[n]})}handleError(e,t){this.loading=!1;let n="Error desconocido";e.error?.message?n=e.error.message:e.message&&(n=e.message),this.showNotification(`Error al ${t} la conexi\xF3n: ${n}`,"error"),console.error(`${t} failed:`,e)}loadAvailableElements(){this.elementManagementService.getElements().pipe(p(this.destroy$),P(()=>this.loading=!1)).subscribe({next:e=>{this.availableElements=e},error:e=>this.handleError(e,"cargar elementos")})}updateAvailableTargets(e){this._availableTargets=this.availableElements.filter(t=>t.id!==e)}generateDetailedFiberId(){return`detailed-fiber-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}createBaseNetworkConnection(e){return{id:e.id||this.generateId(),sourceElementId:e.sourceElementId,targetElementId:e.targetElementId,type:M.FIBER,status:e.status,name:e.label,properties:{fiberType:e.fiberType,length:parseFloat(e.length)||0,capacity:parseFloat(e.capacity)||0,description:e.description},metadata:{createdBy:"ConnectionEditor",createdAt:new Date().toISOString()}}}updateBaseNetworkConnection(e,t){return w(S({},e),{sourceElementId:t.sourceElementId,targetElementId:t.targetElementId,status:t.status,name:t.label,properties:w(S({},e.properties||{}),{fiberType:t.fiberType,length:parseFloat(t.length)||0,capacity:parseFloat(t.capacity)||0,description:t.description}),metadata:w(S({},e.metadata||{}),{updatedBy:"ConnectionEditor",updatedAt:new Date().toISOString()})})}getFiberUsageTypeName(e){return{[m.BACKBONE]:"Troncal (Backbone)",[m.DISTRIBUTION]:"Distribuci\xF3n",[m.DROP]:"Bajante (Drop)",[m.JUMPER]:"Jumper",[m.PATCH]:"Parcheo (Patch)",[m.FEEDER]:"Alimentador (Feeder)",[m.ACCESS]:"Acceso",[m.INTERCONNECTION]:"Interconexi\xF3n"}[e]||e}static{this.\u0275fac=function(t){return new(t||c)}}static{this.\u0275cmp=z({type:c,selectors:[["app-connection-editor"]],decls:80,vars:19,consts:[[1,"dialog-container","debug-container"],[1,"dialog-header","fixed-header",3,"ngClass"],[1,"header-icon"],["color","primary"],[1,"header-content"],["mat-dialog-title","",1,"small-title"],[1,"subtitle"],[1,"form-content","debug-content","scrollable-content"],[3,"ngSubmit","formGroup"],[1,"debug-card"],[1,"form-row"],["appearance","fill",1,"full-width"],["formControlName","sourceElementId","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","targetElementId","required",""],["appearance","fill"],["formControlName","status","required",""],[3,"value"],["formControlName","fiberType"],["matInput","","type","number","formControlName","length","min","0"],["matInput","","type","number","formControlName","capacity","min","0"],["matInput","","formControlName","label"],["matInput","","formControlName","description","rows","2"],[1,"space-buffer"],[1,"dialog-actions","fixed-footer"],["mat-stroked-button","",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click","disabled"],["diameter","18","class","button-spinner",4,"ngIf"],["diameter","18",1,"button-spinner"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),r(4),o()(),i(5,"div",4)(6,"h2",5),r(7),o(),i(8,"p",6),r(9),o()()(),g(10,"mat-divider"),i(11,"div",7)(12,"form",8),k("ngSubmit",function(){return n.onSave()}),i(13,"div",9)(14,"h3"),r(15,"Elementos de la Conexi\xF3n"),o(),i(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),r(19,"Elemento Origen"),o(),i(20,"mat-select",12),T(21,Ne,2,2,"mat-option",13),o()()(),i(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),r(25,"Elemento Destino"),o(),i(26,"mat-select",14),T(27,Ae,2,2,"mat-option",13),o()()()(),i(28,"div",9)(29,"h3"),r(30,"Configuraci\xF3n Principal"),o(),i(31,"div",10)(32,"mat-form-field",15)(33,"mat-label"),r(34,"Estado"),o(),i(35,"mat-select",16)(36,"mat-option",17),r(37,"Activo"),o(),i(38,"mat-option",17),r(39,"Inactivo"),o()()(),i(40,"mat-form-field",15)(41,"mat-label"),r(42,"Tipo de Fibra"),o(),i(43,"mat-select",18)(44,"mat-option",17),r(45,"Monomodo"),o(),i(46,"mat-option",17),r(47,"Multimodo"),o()()()(),i(48,"div",10)(49,"mat-form-field",15)(50,"mat-label"),r(51,"Longitud (metros)"),o(),g(52,"input",19),o(),i(53,"mat-form-field",15)(54,"mat-label"),r(55,"Capacidad"),o(),g(56,"input",20),o()()(),i(57,"div",9)(58,"h3"),r(59,"Informaci\xF3n Adicional"),o(),i(60,"div",10)(61,"mat-form-field",11)(62,"mat-label"),r(63,"Etiqueta"),o(),g(64,"input",21),o()(),i(65,"div",10)(66,"mat-form-field",11)(67,"mat-label"),r(68,"Descripci\xF3n"),o(),g(69,"textarea",22),o()()(),g(70,"div",23),o()(),g(71,"mat-divider"),i(72,"div",24)(73,"button",25),k("click",function(){return n.onCancel()}),r(74," Cancelar "),o(),i(75,"button",26),k("click",function(){return n.onSave()}),i(76,"mat-icon"),r(77),o(),r(78),T(79,De,1,0,"mat-spinner",27),o()()()),t&2&&(l(),d("ngClass",j(16,ke,n.mode==="create",n.mode==="edit")),l(3),x(n.mode==="create"?"add_link":"edit_link"),l(3),x(n.mode==="create"?"Crear Conexi\xF3n":"Editar Conexi\xF3n"),l(2),x(n.mode==="create"?"Defina una nueva conexi\xF3n entre elementos":"Modifique los detalles de la conexi\xF3n existente"),l(3),d("formGroup",n.connectionForm),l(9),d("ngForOf",n.availableElements),l(6),d("ngForOf",n.getAvailableTargets()),l(9),d("value",n.ElementStatus.ACTIVE),l(2),d("value",n.ElementStatus.INACTIVE),l(6),d("value",n.FiberType.SINGLE_MODE),l(2),d("value",n.FiberType.MULTI_MODE),l(27),d("disabled",n.loading),l(2),d("disabled",n.connectionForm.invalid||n.loading),l(2),x(n.mode==="create"?"add":"save"),l(),N(" ",n.mode==="create"?"Crear":"Actualizar"," "),l(),d("ngIf",n.loading))},dependencies:[$,B,L,R,le,ee,Y,te,Z,V,ae,ie,ne,oe,ce,pe,me,Me,he,ge,ye,ve,Pe,Oe,_e,J,H,K,q,xe,W,be,Q,X,G,U,ue,fe],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{max-width:600px;height:auto;overflow:visible;background:#f8f9fa;border-radius:12px;border:1px solid #e0e0e0;box-shadow:0 8px 32px #3c3c3c1a;color:#222!important}.dialog-header[_ngcontent-%COMP%]{display:flex;padding:12px 16px;background-color:rgba(var(--primary-color-rgb),.03)}.dialog-header.create[_ngcontent-%COMP%]{background-color:rgba(var(--color-success-rgb),.05)}.dialog-header.create[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background-color:var(--color-success)}.dialog-header.edit[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb),.05)}.dialog-header.edit[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background-color:var(--primary-color)}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;margin-right:12px}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem!important;font-weight:500;color:var(--primary-color);line-height:1.2}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:2px 0 0;color:var(--text-secondary);font-size:.85rem}.dialog-content[_ngcontent-%COMP%]{padding:16px!important;background:transparent;color:#222!important}.form-section-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px!important;box-shadow:0 2px 6px #0000000f!important;border:1px solid #ebebeb;margin-bottom:16px}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding:12px 16px 8px!important;border-bottom:1px solid #f0f0f0}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--primary-color)!important}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:.95rem!important;font-weight:500;margin-bottom:0;color:var(--primary-color)}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:0;color:var(--text-secondary)}.form-section-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:12px 16px!important}.form-row[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:8px}.compact-row[_ngcontent-%COMP%]{gap:12px;margin-bottom:4px}.dense.mat-form-field[_ngcontent-%COMP%]{font-size:14px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{min-height:36px;padding:0 8px!important;background-color:#f7f9fc;border-radius:4px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:6px 0!important;border-top:6px solid transparent}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .dense.mat-form-field[_ngcontent-%COMP%]   .mat-select-value-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.2;color:#333}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#666!important;font-size:14px}.connection-icon-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:4px 0}.connection-icon-container[_ngcontent-%COMP%]   .connection-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:20px;width:20px;height:20px}.element-option[_ngcontent-%COMP%]{display:flex;align-items:center}.element-option[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--primary-color);font-size:18px;width:18px;height:18px}.element-option[_ngcontent-%COMP%]   .element-type[_ngcontent-%COMP%]{margin-left:auto;color:var(--text-secondary);font-size:12px}.status-option[_ngcontent-%COMP%]{display:flex;align-items:center}.status-option[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:8px}.status-option[_ngcontent-%COMP%]   .status-dot.active[_ngcontent-%COMP%]{background-color:var(--status-active)}.status-option[_ngcontent-%COMP%]   .status-dot.inactive[_ngcontent-%COMP%]{background-color:var(--status-inactive)}.status-option[_ngcontent-%COMP%]   .status-dot.warning[_ngcontent-%COMP%]{background-color:var(--color-warning)}.status-option[_ngcontent-%COMP%]   .status-dot.maintenance[_ngcontent-%COMP%]{background-color:var(--color-info)}.status-option[_ngcontent-%COMP%]   .status-dot.fault[_ngcontent-%COMP%]{background-color:var(--color-danger)}.status-option[_ngcontent-%COMP%]   .status-dot.planned[_ngcontent-%COMP%]{background-color:var(--status-planning)}.status-option[_ngcontent-%COMP%]   .status-dot.building[_ngcontent-%COMP%]{background-color:var(--color-warning)}.status-option[_ngcontent-%COMP%]   .status-dot.reserved[_ngcontent-%COMP%]{background-color:var(--color-success)}.status-option[_ngcontent-%COMP%]   .status-dot.decommissioned[_ngcontent-%COMP%]{background-color:var(--text-secondary)}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:12px 16px;background-color:#f5f7fa;border-top:1px solid #eaeaea}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-width:110px;font-size:14px;font-weight:500;border-radius:4px}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:4px}.dialog-actions[_ngcontent-%COMP%]   .button-spinner[_ngcontent-%COMP%]{display:inline-block;margin-left:8px}.connection-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.connection-preview[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;padding:8px 12px;border-radius:8px;box-shadow:0 1px 3px #0000000f}.connection-preview[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--primary-color)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]{height:60px;width:100%;position:relative;display:flex;justify-content:center}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:3px;height:100%;background-color:var(--status-active)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.active[_ngcontent-%COMP%]{background-color:var(--status-active)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.inactive[_ngcontent-%COMP%]{background-color:var(--status-inactive)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.warning[_ngcontent-%COMP%]{background-color:var(--color-warning)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.maintenance[_ngcontent-%COMP%]{background-color:var(--color-info)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.fault[_ngcontent-%COMP%]{background-color:var(--color-danger)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.planned[_ngcontent-%COMP%]{background-color:var(--status-planning)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border-radius:4px;padding:4px;white-space:nowrap;box-shadow:0 1px 3px #00000014}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{height:24px;min-height:24px;font-size:12px}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.dialog-header[_ngcontent-%COMP%]{padding:var(--spacing-md)}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}}.dark-theme[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background-color:var(--dark-bg-primary)}.dark-theme[_nghost-%COMP%]   .dialog-header.create[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header.create[_ngcontent-%COMP%]{background-color:rgba(var(--color-success-rgb),.2)}.dark-theme[_nghost-%COMP%]   .dialog-header.edit[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header.edit[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb),.2)}.dark-theme[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--dark-text-primary)}.dark-theme[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]{background-color:var(--dark-bg-primary)}.dark-theme[_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%]{background-color:var(--dark-bg-secondary);color:var(--dark-text-primary)}.dark-theme[_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]{background-color:var(--dark-bg-secondary);color:var(--dark-text-primary)}.dark-theme[_nghost-%COMP%]   .element-option[_ngcontent-%COMP%]   .element-type[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .element-option[_ngcontent-%COMP%]   .element-type[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{color:var(--dark-text-primary)}.form-section-card[_ngcontent-%COMP%]{margin-bottom:20px;background:#fcfcfd;border-radius:14px!important;box-shadow:0 2px 8px #3c3c3c12!important;border:1px solid #ececec;transition:box-shadow .2s}.form-section-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #3c3c3c21!important}.form-section-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section-card[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding-bottom:8px;border-bottom:1px solid #ececec;margin-bottom:8px}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:500;color:#3f51b5;letter-spacing:.01em}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%], .form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#b0b8d1!important;font-size:20px!important}.form-section-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding-top:8px}.form-section-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{gap:16px}.connection-summary[_ngcontent-%COMP%]   .connection-preview[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option.mat-mdc-chip-disabled[_ngcontent-%COMP%]{opacity:1;cursor:default;background-color:#00000014}.dense.mat-form-field[_ngcontent-%COMP%]{font-size:13px;min-height:36px;margin-bottom:8px;background:#f4f6fa;border-radius:8px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{min-height:36px;height:36px;border-radius:8px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:4px 0;min-height:24px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .dense.mat-form-field[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{font-size:13px;padding:2px 0;min-height:24px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%]{font-size:18px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--primary-color)}.compact-row[_ngcontent-%COMP%]{gap:8px;margin-bottom:0}.compact-card[_ngcontent-%COMP%]{padding:8px 0 0}.compact-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{min-height:36px;padding-bottom:2px}.compact-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:15px}.compact-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.compact-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.compact-btn[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{border-radius:8px!important;font-weight:500;letter-spacing:.01em;box-shadow:0 1px 4px #3c3c3c12;transition:box-shadow .2s}.compact-btn[_ngcontent-%COMP%]:hover:not([disabled]), .save-button[_ngcontent-%COMP%]:hover:not([disabled]), .cancel-button[_ngcontent-%COMP%]:hover:not([disabled]){box-shadow:0 2px 8px #3c3c3c21}.compact-actions[_ngcontent-%COMP%]{padding:8px 16px;gap:8px}.compact-scroll[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding:12px 12px 0}.compact-connection-icon[_ngcontent-%COMP%]{padding:2px 0}.compact-connection-icon[_ngcontent-%COMP%]   .connection-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--primary-color)}.mat-icon[color=primary][_ngcontent-%COMP%]{color:var(--primary-color)!important}.small-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:500;margin:0;line-height:1.1}.mat-card-title[_ngcontent-%COMP%], .section-title[_ngcontent-%COMP%]{font-size:.98rem!important;font-weight:500;margin-bottom:2px;line-height:1.1}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:.85rem!important;font-weight:400;margin-bottom:0;color:var(--text-secondary)}.no-extra-scroll[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-bottom:0!important}.compact-scroll[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%], .no-extra-scroll[_ngcontent-%COMP%]{padding-bottom:0!important;color:#222!important;background:transparent}.dialog-content[_ngcontent-%COMP%]{padding:16px 16px 0!important}.dense.mat-form-field[_ngcontent-%COMP%]{background:#f4f6fa;border-radius:8px;color:#222!important}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#8a8fa3!important;font-size:.95em}.debug-container[_ngcontent-%COMP%]{max-width:600px;display:flex;flex-direction:column;background:#fff;height:auto;overflow:hidden!important;border-radius:8px;box-shadow:0 2px 8px #00000026}.fixed-header[_ngcontent-%COMP%]{flex:0 0 auto;background:#f5f5f5;padding:12px 16px;display:flex;align-items:center}.fixed-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;margin-right:12px;background-color:#3f51b5}.fixed-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:18px;width:18px;height:18px}.fixed-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#333}.fixed-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:2px 0 0;color:#666;font-size:13px}.scrollable-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto!important;max-height:calc(80vh - 130px);padding:12px 16px;background:#fff}.fixed-footer[_ngcontent-%COMP%]{flex:0 0 auto;background:#f5f5f5;padding:12px 16px;display:flex;justify-content:flex-end;gap:12px;border-top:1px solid #e0e0e0}.debug-card[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e0e0e0;border-radius:8px;padding:16px;margin-bottom:16px}.debug-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px;font-size:15px;font-weight:500;color:#3f51b5}.form-row[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}  .mat-dialog-container{display:block;padding:0!important;overflow:hidden!important;max-height:none!important}  .cdk-overlay-pane{max-height:90vh!important}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fff!important}  .mat-input-element,   .mat-select-value,   .mat-select-arrow,   .mat-form-field-label{color:#333!important}'],data:{animation:[Ee]}})}}return c})();export{Se as a,_t as b};
