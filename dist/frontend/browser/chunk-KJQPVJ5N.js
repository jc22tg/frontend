import{a as Z}from"./chunk-NKIK3UKT.js";import{m as Y}from"./chunk-7JRIPI7N.js";import{a as U,c as W,d as X}from"./chunk-Q2I2H6RZ.js";import"./chunk-MHWJR3EV.js";import{a as I,b as E}from"./chunk-D3FDFS7S.js";import{d as H,e as J,g as K,j as Q}from"./chunk-RWQWO3EM.js";import{B as G,b as N,d as M,g as A,h as D,l as V,o as R,r as $,x as j,z}from"./chunk-JO2MD4NL.js";import{a as L,b as k,i as B,j as T,n as q}from"./chunk-XJSBNB6N.js";import"./chunk-4PHUDKEH.js";import{d as O,e as S,i as w}from"./chunk-D4QL4JVC.js";import{$a as m,$b as P,$c as C,Gb as n,Hb as o,Ib as h,Nc as F,Ob as c,Tc as y,_b as i,ac as v,db as _,kb as b,mc as g,nc as u,qb as d,xb as l}from"./chunk-FG6FKNI4.js";import"./chunk-OXVY4BEJ.js";function oe(e,p){if(e&1&&(n(0,"div",11),i(1),o()),e&2){let a=p.ngIf;m(),v(" ",a," ")}}function ie(e,p){e&1&&(n(0,"mat-error"),i(1," El email es requerido "),o())}function re(e,p){e&1&&(n(0,"mat-error"),i(1," Por favor, ingrese un email v\xE1lido "),o())}function ae(e,p){e&1&&(n(0,"mat-error"),i(1," La contrase\xF1a es requerida "),o())}function me(e,p){e&1&&(n(0,"span"),i(1,"Iniciar Sesi\xF3n"),o())}function le(e,p){e&1&&h(0,"mat-spinner",12),e&2&&l("diameter",24)}var ee=(()=>{class e{constructor(a,r,t){this.fb=a,this.store=r,this.router=t,this.hidePassword=!0,this.loginForm=this.fb.group({email:["",[M.required,M.email]],password:["",M.required]}),this.loginForm.setValue({email:"admin@example.com",password:"Admin123!"}),this.loading$=this.store.select(s=>s?.auth?.loading??!1),this.error$=this.store.select(s=>s?.auth?.error??null)}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}onSubmit(){if(this.loginForm.valid){let{email:a,password:r}=this.loginForm.value;this.store.dispatch(Z({email:a,password:r})),this.store.select(t=>t.auth).subscribe(t=>{t?.user&&this.router.navigate(["/dashboard"])})}}static{this.\u0275fac=function(r){return new(r||e)(_(z),_(Y),_(O))}}static{this.\u0275cmp=b({type:e,selectors:[["app-login-form"]],decls:27,vars:18,consts:[[1,"login-form",3,"ngSubmit","formGroup"],[1,"login-title"],["class","error-message",4,"ngIf"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","required","","title","Email","placeholder","Ingrese su email"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","","title","Contrase\xF1a","placeholder","Ingrese su contrase\xF1a",3,"type"],["type","button","mat-icon-button","","matSuffix","","tabindex","-1",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["class","spinner",3,"diameter",4,"ngIf"],[1,"error-message"],[1,"spinner",3,"diameter"]],template:function(r,t){if(r&1&&(n(0,"form",0),c("ngSubmit",function(){return t.onSubmit()}),n(1,"h1",1),i(2,"Iniciar Sesi\xF3n"),o(),d(3,oe,2,1,"div",2),g(4,"async"),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"Email"),o(),h(8,"input",4),n(9,"mat-icon",5),i(10,"person"),o(),d(11,ie,2,0,"mat-error",6)(12,re,2,0,"mat-error",6),o(),n(13,"mat-form-field",3)(14,"mat-label"),i(15,"Contrase\xF1a"),o(),h(16,"input",7),n(17,"button",8),c("click",function(){return t.togglePasswordVisibility()}),n(18,"mat-icon"),i(19),o()(),d(20,ae,2,0,"mat-error",6),o(),n(21,"button",9),g(22,"async"),d(23,me,2,0,"span",6),g(24,"async"),d(25,le,1,1,"mat-spinner",10),g(26,"async"),o()()),r&2){let s,f,x;l("formGroup",t.loginForm),m(3),l("ngIf",u(4,10,t.error$)),m(8),l("ngIf",(s=t.loginForm.get("email"))==null?null:s.hasError("required")),m(),l("ngIf",(f=t.loginForm.get("email"))==null?null:f.hasError("email")),m(4),l("type",t.hidePassword?"password":"text"),m(3),P(t.hidePassword?"visibility_off":"visibility"),m(),l("ngIf",(x=t.loginForm.get("password"))==null?null:x.hasError("required")),m(),l("disabled",!t.loginForm.valid||u(22,12,t.loading$)),m(2),l("ngIf",!u(24,14,t.loading$)),m(2),l("ngIf",u(26,16,t.loading$))}},dependencies:[G,V,N,A,D,j,R,$,U,Q,H,J,K,X,W,q,T,B,k,L,E,I,C,F,y],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;max-width:400px;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.login-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem;color:#3f51b5}.error-message[_ngcontent-%COMP%]{color:#f44336;padding:.5rem;margin-bottom:1rem;border:1px solid #f44336;border-radius:4px;background-color:#ffebee}.full-width[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{margin:0 auto}"]})}}return e})();var Ie=(()=>{class e{onLoginSubmit(a){console.log("Login data:",a)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=b({type:e,selectors:[["app-login"]],decls:12,vars:0,consts:[[1,"login-page"],[1,"login-container"],[1,"subtitle"],[3,"submit"],[1,"links"],["routerLink","/auth/forgot-password"],["routerLink","/auth/register"]],template:function(r,t){r&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Bienvenido"),o(),n(4,"p",2),i(5,"Inicia sesi\xF3n para continuar"),o(),n(6,"app-login-form",3),c("submit",function(f){return t.onLoginSubmit(f)}),o(),n(7,"div",4)(8,"a",5),i(9,"\xBFOlvidaste tu contrase\xF1a?"),o(),n(10,"a",6),i(11,"\xBFNo tienes una cuenta? Reg\xEDstrate"),o()()()())},dependencies:[C,w,S,ee],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;padding:2rem}.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;text-align:center}.login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;color:#333}.login-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin-bottom:2rem}.links[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;gap:.5rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;font-size:.9rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:100%;max-width:400px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#333}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#666}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .2s}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})}}return e})();export{Ie as LoginComponent};
