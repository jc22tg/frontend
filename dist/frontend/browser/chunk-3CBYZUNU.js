import{a as Oe}from"./chunk-TXDL5GP3.js";import{b as ye}from"./chunk-DO4GAHHZ.js";import{a as _e,b as Pe,c as xe,d as ve}from"./chunk-URNBDWCH.js";import{b as de,c as se,d as he,e as Ce,f as be,g as Me}from"./chunk-JGNBERAY.js";import{a as ge,c as ue,d as fe}from"./chunk-Q2I2H6RZ.js";import{a as te,b as ne,e as oe,h as ie}from"./chunk-RMHD7ZOV.js";import{e as Ee}from"./chunk-PQUQY4V4.js";import{b as me,c as pe}from"./chunk-SFSNZG2F.js";import{h as le}from"./chunk-GQNYZBS2.js";import{d as ce}from"./chunk-NI7QRJ7Q.js";import{a as L,b as $}from"./chunk-F5P253LU.js";import{a as D,b as A}from"./chunk-D3FDFS7S.js";import{d as ae,j as re}from"./chunk-RWQWO3EM.js";import{A as V,B as ee,b as G,d as u,g as q,h as K,l as H,m as J,o as X,r as Q,w as W,x as Y,z as Z}from"./chunk-JO2MD4NL.js";import{a as z,b as j,j as R,n as B}from"./chunk-XJSBNB6N.js";import{w as U}from"./chunk-VH7SA6GK.js";import{$a as c,$b as b,$c as N,Gb as i,Hb as o,Ib as m,Lc as k,Mc as T,Nc as S,Ob as x,Q as C,_b as r,ac as v,da as s,f as E,g as h,ja as F,jc as I,kb as w,pa as g,qb as P,s as f,xb as d}from"./chunk-FG6FKNI4.js";import{a as O,b as _}from"./chunk-OXVY4BEJ.js";var y=class l{elementsSubject=new h([]);selectedElementSubject=new h(null);multipleSelectionSubject=new h([]);multipleSelection$=this.multipleSelectionSubject.asObservable();activeFiltersSubject=new h({});activeFilters$=this.activeFiltersSubject.asObservable();constructor(){this.initializeElements()}initializeElements(){}getElements(){return this.elementsSubject.asObservable()}getElementById(e){return this.elementsSubject.pipe(f(t=>t.find(n=>n.id===e)||null))}getElementsByType(e){return this.elementsSubject.pipe(f(t=>t.filter(n=>n.type===e)))}getElementsByStatus(e){return this.elementsSubject.pipe(f(t=>t.filter(n=>n.status===e)))}addElement(e){let t=this.elementsSubject.value;this.elementsSubject.next([...t,e])}updateElement(e){let t=this.elementsSubject.value,n=t.findIndex(a=>a.id===e.id);n!==-1&&(t[n]=e,this.elementsSubject.next([...t]))}deleteElement(e){let t=this.elementsSubject.value;this.elementsSubject.next(t.filter(n=>n.id!==e))}getSelectedElement(){return this.selectedElementSubject.asObservable()}selectElement(e){this.selectedElementSubject.next(e)}searchElements(e){return this.elementsSubject.pipe(f(t=>t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())||(n.id?n.id.toLowerCase().includes(e.toLowerCase()):!1))))}filterElements(e){return this.elementsSubject.pipe(f(t=>t.filter(n=>{if(e.type&&n.type!==e.type||e.status&&n.status!==e.status)return!1;if(e.search){let a=e.search.toLowerCase();return n.name.toLowerCase().includes(a)||(n.id?n.id.toLowerCase().includes(a):!1)}return!0})))}exportElements(){}clearElements(){this.elementsSubject.next([])}clearSelection(){this.selectedElementSubject.next(null)}setMultipleSelection(e){this.multipleSelectionSubject.next([...e])}addToMultipleSelection(e){let t=this.multipleSelectionSubject.value;t.some(n=>n.id===e.id)||this.multipleSelectionSubject.next([...t,e])}removeFromMultipleSelection(e){let t=this.multipleSelectionSubject.value;this.multipleSelectionSubject.next(t.filter(n=>n.id!==e))}clearMultipleSelection(){this.multipleSelectionSubject.next([])}setFilters(e){this.activeFiltersSubject.next(e)}getFilters(){return this.activeFiltersSubject.value}clearFilters(){this.activeFiltersSubject.next({})}getMultipleSelection(){return this.multipleSelection$}getActiveFilters(){return this.activeFilters$}isOLT(e){return e&&e.type==="OLT"}isONT(e){return e&&e.type==="ONT"}isODF(e){return e&&e.type==="ODF"}isEDFA(e){return e&&e.type==="EDFA"}isSplitter(e){return e&&e.type==="SPLITTER"}isManga(e){return e&&e.type==="MANGA"}isTerminalBox(e){return e&&e.type==="TERMINAL_BOX"}isSlackFiber(e){return e&&e.type==="SLACK_FIBER"}isFiberThread(e){return e&&e.type==="FIBER_THREAD"}isRack(e){return e&&e.type==="RACK"}getElementsByRackId(e){return this.getElements().pipe(f(t=>t.filter(n=>"rackId"in n&&n.rackId===e)))}static \u0275fac=function(t){return new(t||l)};static \u0275prov=F({token:l,factory:l.\u0275fac,providedIn:"root"})};var ke=(l,e)=>({create:l,edit:e});function Te(l,e){if(l&1&&(i(0,"mat-option",17),r(1),o()),l&2){let t=e.$implicit;d("value",t.id),c(),v(" ",t.name," ")}}function Se(l,e){if(l&1&&(i(0,"mat-option",17),r(1),o()),l&2){let t=e.$implicit;d("value",t.id),c(),v(" ",t.name," ")}}function Ne(l,e){l&1&&m(0,"mat-spinner",28)}var Fe=class l{connectionForm;mode="create";ElementStatus=me;FiberType=pe;FiberUsageType=_e;ConnectorType=Pe;FiberStandard=xe;PolishingType=ve;objectKeys=Object.keys;availableElements=[];sourceElement=null;targetElement=null;loading=!1;_availableTargets=[];destroy$=new E;detailedFiberInfo=null;fb=g(Z);dialogRef=g(te);elementManagementService=g(y);connectionService=g(ye);elementService=g(Ee);snackBar=g(de);data=g(ne);constructor(){this.mode=this.data?.mode||"edit";let e=this.data?.connection||null;this.connectionForm=this.fb.group({id:[e?.id||this.generateId()],sourceElementId:[e?.sourceElementId||"",u.required],targetElementId:[e?.targetElementId||"",u.required],status:[e?.status||"ACTIVE",u.required],fiberType:[e?.properties?.fiberType||"SINGLE_MODE"],length:[e?.properties?.length||0,[u.min(0),u.pattern(/^\d+(\.\d{1,2})?$/)]],capacity:[e?.properties?.capacity||10,[u.min(0),u.pattern(/^\d+(\.\d{1,2})?$/)]],label:[e?.name||""],description:[e?.properties?.description||""],usageType:["DISTRIBUTION"],connectorType:["SC"],standard:["ITU-T G.652"],polishingType:["APC"],manufacturer:[""],modelNumber:[""]})}ngOnInit(){if(console.log("ConnectionEditorComponent inicializado con datos:",this.data),this.loadAvailableElements(),this.mode==="edit"&&this.data.connection){let e=this.data.connection;e.type==="FIBER"&&e.detailedFiberConnectionId&&(this.loading=!0,this.connectionService.getDetailedFiberConnectionById(e.detailedFiberConnectionId).pipe(s(this.destroy$),C(()=>this.loading=!1)).subscribe(t=>{t?(this.detailedFiberInfo=t,console.log("Detailed Fiber Info Cargado:",this.detailedFiberInfo),this.connectionForm.patchValue({fiberType:this.detailedFiberInfo.fiberType,length:this.detailedFiberInfo.networkInfo?.distanceMetrics?.totalLength||this.detailedFiberInfo.metadata?.length||this.connectionForm.value.length||0,capacity:this.detailedFiberInfo.strands?.total||this.connectionForm.value.capacity||0,description:this.detailedFiberInfo.description||this.connectionForm.value.description||"",label:this.detailedFiberInfo.name||this.connectionForm.value.label||"",usageType:this.detailedFiberInfo.usageType||"DISTRIBUTION",connectorType:this.detailedFiberInfo.connectorType||"SC",standard:this.detailedFiberInfo.standard||"ITU-T G.652",polishingType:this.detailedFiberInfo.polishingType||"APC",manufacturer:this.detailedFiberInfo.manufacturer||"",modelNumber:this.detailedFiberInfo.modelNumber||""})):console.warn(`No se pudieron cargar los detalles para detailedFiberConnectionId: ${e.detailedFiberConnectionId}`)}))}this.connectionForm.get("sourceElementId")?.valueChanges.pipe(s(this.destroy$)).subscribe(e=>{this.updateSourceElement(),this.updateAvailableTargets(e)}),this.connectionForm.get("targetElementId")?.valueChanges.pipe(s(this.destroy$)).subscribe(()=>{this.updateTargetElement()}),this.connectionForm.get("sourceElementId")?.value&&(this.updateSourceElement(),this.updateAvailableTargets(this.connectionForm.get("sourceElementId")?.value)),this.connectionForm.get("targetElementId")?.value&&this.updateTargetElement()}ngOnDestroy(){this.cleanup()}cleanup(){this.destroy$.next(),this.destroy$.complete()}updateSourceElement(){let e=this.connectionForm.get("sourceElementId")?.value;e&&(this.sourceElement=this.availableElements.find(t=>t.id===e)||null,this._availableTargets=this.availableElements.filter(t=>t.id!==e))}updateTargetElement(){let e=this.connectionForm.get("targetElementId")?.value;e&&(this.targetElement=this.availableElements.find(t=>t.id===e)||null)}getAvailableTargets(){return this._availableTargets}getElementTypeName(e){return this.elementService.getElementTypeName(e)}getElementTypeIcon(e){return{ODF:"router",OLT:"settings_input_hdmi",ONT:"dns",EDFA:"tune",SPLITTER:"call_split",MANGA:"settings_input_component",TERMINAL_BOX:"archive",RACK:"domain",FIBER_THREAD:"timeline",FIBER_CONNECTION:"timeline",SLACK_FIBER:"waves",CUSTOM:"category"}[e]||"device_unknown"}getFiberTypeName(e){return{SINGLE_MODE:"Monomodo",MULTI_MODE:"Multimodo"}[e]||"Desconocido"}getStatusClass(){let e=this.connectionForm.get("status")?.value;return{ACTIVE:"active",INACTIVE:"inactive",MAINTENANCE:"maintenance",ERROR:"fault",PLANNING:"planned"}[e]||"active"}generateId(){return`conn-${Date.now()}-${Math.floor(Math.random()*1e3)}`}onCancel(){this.dialogRef.close()}onSave(){if(this.connectionForm.valid){this.loading=!0;let e=this.connectionForm.value,t=this.data.connection,n=t?.type||(e.fiberType?"FIBER":"LOGICAL");if(this.mode==="edit"&&t){let a=this.updateBaseNetworkConnection(t,e);a.type=n,a.type==="FIBER"&&this.detailedFiberInfo&&t.detailedFiberConnectionId?(a.detailedFiberConnectionId=t.detailedFiberConnectionId,this.detailedFiberInfo.name=e.label,this.detailedFiberInfo.fiberType=e.fiberType,this.detailedFiberInfo.description=e.description,this.detailedFiberInfo.networkInfo||(this.detailedFiberInfo.networkInfo={}),this.detailedFiberInfo.networkInfo.distanceMetrics||(this.detailedFiberInfo.networkInfo.distanceMetrics={totalLength:0,splicePoints:0,maxSpliceLoss:0,totalLoss:0}),this.detailedFiberInfo.networkInfo.distanceMetrics.totalLength=parseFloat(e.length)||0,this.detailedFiberInfo.strands||(this.detailedFiberInfo.strands={total:0,available:0,inUse:0,reserved:0,damaged:0}),this.detailedFiberInfo.strands.total=parseFloat(e.capacity)||0,this.detailedFiberInfo.usageType=e.usageType,this.detailedFiberInfo.connectorType=e.connectorType,this.detailedFiberInfo.standard=e.standard,this.detailedFiberInfo.polishingType=e.polishingType,this.detailedFiberInfo.manufacturer=e.manufacturer,this.detailedFiberInfo.modelNumber=e.modelNumber,this.connectionService.updateDetailedFiberConnection(this.detailedFiberInfo).pipe(s(this.destroy$)).subscribe({next:p=>{p?console.log("DetailedFiberInfo actualizado en el servicio:",p):this.showNotification("Advertencia: No se pudieron guardar todos los detalles de la fibra.","warning"),this.finalizeUpdateConnection(a)},error:p=>{this.handleError(p,"actualizar detalles de fibra"),this.finalizeUpdateConnection(a)}})):(a.detailedFiberConnectionId=void 0,this.finalizeUpdateConnection(a))}else if(this.mode==="create"){let a=this.createBaseNetworkConnection(e);if(a.type=n,a.type==="FIBER"){let p=this.generateDetailedFiberId();a.detailedFiberConnectionId=p;let we={id:p,name:e.label||`Detalle Fibra ${p}`,fiberType:e.fiberType,description:e.description||"",usageType:e.usageType||"DISTRIBUTION",connectorType:e.connectorType||"SC",standard:e.standard||"ITU-T G.652",polishingType:e.polishingType||"APC",manufacturer:e.manufacturer||"N/A",modelNumber:e.modelNumber||"N/A",insertionLoss:0,returnLoss:0,wavelength:1310,bandwidth:0,coreDiameter:9,claddingDiameter:125,outerDiameter:3,operatingTemperature:{min:-20,max:70},tensileStrength:0,manufacturingDate:new Date,certifications:[],strands:{total:parseFloat(e.capacity)||0,available:parseFloat(e.capacity)||0,inUse:0,reserved:0,damaged:0},strandConfiguration:{totalStrands:parseFloat(e.capacity)||0,strandsPerTube:parseFloat(e.capacity)||0,tubesPerCable:1,bufferTubes:1,centralStrengthMember:!1},networkInfo:{distanceMetrics:{totalLength:parseFloat(e.length)||0,splicePoints:0,maxSpliceLoss:0,totalLoss:0}}};this.connectionService.createDetailedFiberConnection(we).pipe(s(this.destroy$)).subscribe({next:M=>{M?console.log("DetailedFiberConnection creado exitosamente:",M):(this.showNotification("Error: Fall\xF3 la creaci\xF3n de detalles de fibra. La conexi\xF3n no se cre\xF3 completamente.","error"),a.detailedFiberConnectionId=void 0),this.finalizeCreateConnection(a)},error:M=>{this.handleError(M,"crear detalles de fibra"),a.detailedFiberConnectionId=void 0,this.finalizeCreateConnection(a)}})}else this.finalizeCreateConnection(a)}}else Object.keys(this.connectionForm.controls).forEach(e=>{this.connectionForm.get(e)?.markAsTouched()}),this.showNotification("Por favor, complete correctamente los campos obligatorios","error"),this.loading=!1}finalizeCreateConnection(e){this.connectionService.createConnection(e).pipe(s(this.destroy$),C(()=>{this.loading=!1})).subscribe({next:t=>{this.showNotification("Conexi\xF3n creada exitosamente","success"),this.dialogRef.close(t)},error:t=>this.handleError(t,"crear conexi\xF3n base")})}finalizeUpdateConnection(e){this.connectionService.updateConnection(e).pipe(s(this.destroy$),C(()=>{this.loading=!1})).subscribe({next:t=>{this.showNotification("Conexi\xF3n actualizada exitosamente","success"),this.dialogRef.close(t)},error:t=>this.handleError(t,"actualizar conexi\xF3n base")})}showNotification(e,t){let n=`${t}-snackbar`;this.snackBar.open(e,"Cerrar",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:[n]})}handleError(e,t){this.loading=!1;let n="Error desconocido";e.error?.message?n=e.error.message:e.message&&(n=e.message),this.showNotification(`Error al ${t} la conexi\xF3n: ${n}`,"error"),console.error(`${t} failed:`,e)}loadAvailableElements(){this.elementManagementService.getElements().pipe(s(this.destroy$),C(()=>this.loading=!1)).subscribe({next:e=>{this.availableElements=e},error:e=>this.handleError(e,"cargar elementos")})}updateAvailableTargets(e){this._availableTargets=this.availableElements.filter(t=>t.id!==e)}generateDetailedFiberId(){return`detailed-fiber-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}createBaseNetworkConnection(e){return{id:e.id||this.generateId(),sourceElementId:e.sourceElementId,targetElementId:e.targetElementId,type:"FIBER",status:e.status,name:e.label,properties:{fiberType:e.fiberType,length:parseFloat(e.length)||0,capacity:parseFloat(e.capacity)||0,description:e.description},metadata:{createdBy:"ConnectionEditor",createdAt:new Date().toISOString()}}}updateBaseNetworkConnection(e,t){return _(O({},e),{sourceElementId:t.sourceElementId,targetElementId:t.targetElementId,status:t.status,name:t.label,properties:_(O({},e.properties||{}),{fiberType:t.fiberType,length:parseFloat(t.length)||0,capacity:parseFloat(t.capacity)||0,description:t.description}),metadata:_(O({},e.metadata||{}),{updatedBy:"ConnectionEditor",updatedAt:new Date().toISOString()})})}getFiberUsageTypeName(e){return{BACKBONE:"Troncal (Backbone)",DISTRIBUTION:"Distribuci\xF3n",DROP:"Bajante (Drop)",JUMPER:"Jumper",PATCH:"Parcheo (Patch)",FEEDER:"Alimentador (Feeder)",ACCESS:"Acceso",INTERCONNECTION:"Interconexi\xF3n"}[e]||e}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=w({type:l,selectors:[["app-connection-editor"]],decls:80,vars:19,consts:[[1,"dialog-container","debug-container"],[1,"dialog-header","fixed-header",3,"ngClass"],[1,"header-icon"],["color","primary"],[1,"header-content"],["mat-dialog-title","",1,"small-title"],[1,"subtitle"],[1,"form-content","debug-content","scrollable-content"],[3,"ngSubmit","formGroup"],[1,"debug-card"],[1,"form-row"],["appearance","fill",1,"full-width"],["formControlName","sourceElementId","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","targetElementId","required",""],["appearance","fill"],["formControlName","status","required",""],[3,"value"],["formControlName","fiberType"],["matInput","","type","number","formControlName","length","min","0"],["matInput","","type","number","formControlName","capacity","min","0"],["matInput","","formControlName","label"],["matInput","","formControlName","description","rows","2"],[1,"space-buffer"],[1,"dialog-actions","fixed-footer"],["mat-stroked-button","",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click","disabled"],["diameter","18","class","button-spinner",4,"ngIf"],["diameter","18",1,"button-spinner"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),r(4),o()(),i(5,"div",4)(6,"h2",5),r(7),o(),i(8,"p",6),r(9),o()()(),m(10,"mat-divider"),i(11,"div",7)(12,"form",8),x("ngSubmit",function(){return n.onSave()}),i(13,"div",9)(14,"h3"),r(15,"Elementos de la Conexi\xF3n"),o(),i(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),r(19,"Elemento Origen"),o(),i(20,"mat-select",12),P(21,Te,2,2,"mat-option",13),o()()(),i(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),r(25,"Elemento Destino"),o(),i(26,"mat-select",14),P(27,Se,2,2,"mat-option",13),o()()()(),i(28,"div",9)(29,"h3"),r(30,"Configuraci\xF3n Principal"),o(),i(31,"div",10)(32,"mat-form-field",15)(33,"mat-label"),r(34,"Estado"),o(),i(35,"mat-select",16)(36,"mat-option",17),r(37,"Activo"),o(),i(38,"mat-option",17),r(39,"Inactivo"),o()()(),i(40,"mat-form-field",15)(41,"mat-label"),r(42,"Tipo de Fibra"),o(),i(43,"mat-select",18)(44,"mat-option",17),r(45,"Monomodo"),o(),i(46,"mat-option",17),r(47,"Multimodo"),o()()()(),i(48,"div",10)(49,"mat-form-field",15)(50,"mat-label"),r(51,"Longitud (metros)"),o(),m(52,"input",19),o(),i(53,"mat-form-field",15)(54,"mat-label"),r(55,"Capacidad"),o(),m(56,"input",20),o()()(),i(57,"div",9)(58,"h3"),r(59,"Informaci\xF3n Adicional"),o(),i(60,"div",10)(61,"mat-form-field",11)(62,"mat-label"),r(63,"Etiqueta"),o(),m(64,"input",21),o()(),i(65,"div",10)(66,"mat-form-field",11)(67,"mat-label"),r(68,"Descripci\xF3n"),o(),m(69,"textarea",22),o()()(),m(70,"div",23),o()(),m(71,"mat-divider"),i(72,"div",24)(73,"button",25),x("click",function(){return n.onCancel()}),r(74," Cancelar "),o(),i(75,"button",26),x("click",function(){return n.onSave()}),i(76,"mat-icon"),r(77),o(),r(78),P(79,Ne,1,0,"mat-spinner",27),o()()()),t&2&&(c(),d("ngClass",I(16,ke,n.mode==="create",n.mode==="edit")),c(3),b(n.mode==="create"?"add_link":"edit_link"),c(3),b(n.mode==="create"?"Crear Conexi\xF3n":"Editar Conexi\xF3n"),c(2),b(n.mode==="create"?"Defina una nueva conexi\xF3n entre elementos":"Modifique los detalles de la conexi\xF3n existente"),c(3),d("formGroup",n.connectionForm),c(9),d("ngForOf",n.availableElements),c(6),d("ngForOf",n.getAvailableTargets()),c(9),d("value",n.ElementStatus.ACTIVE),c(2),d("value",n.ElementStatus.INACTIVE),c(6),d("value",n.FiberType.SINGLE_MODE),c(2),d("value",n.FiberType.MULTI_MODE),c(27),d("disabled",n.loading),c(2),d("disabled",n.connectionForm.invalid||n.loading),c(2),b(n.mode==="create"?"add":"save"),c(),v(" ",n.mode==="create"?"Crear":"Actualizar"," "),c(),d("ngIf",n.loading))},dependencies:[N,k,T,S,ee,H,G,J,q,K,Y,W,X,Q,V,ie,oe,ge,re,ae,Me,be,he,fe,ue,B,R,j,z,Ce,U,se,$,L,A,D,ce,le],styles:['@charset "UTF-8";.dialog-container[_ngcontent-%COMP%]{max-width:600px;height:auto;overflow:visible;background:#f8f9fa;border-radius:12px;border:1px solid #e0e0e0;box-shadow:0 8px 32px #3c3c3c1a;color:#222!important}.dialog-header[_ngcontent-%COMP%]{display:flex;padding:12px 16px;background-color:rgba(var(--primary-color-rgb),.03)}.dialog-header.create[_ngcontent-%COMP%]{background-color:rgba(var(--color-success-rgb),.05)}.dialog-header.create[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background-color:var(--color-success)}.dialog-header.edit[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb),.05)}.dialog-header.edit[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background-color:var(--primary-color)}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;margin-right:12px}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;width:20px;height:20px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem!important;font-weight:500;color:var(--primary-color);line-height:1.2}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:2px 0 0;color:var(--text-secondary);font-size:.85rem}.dialog-content[_ngcontent-%COMP%]{padding:16px!important;background:transparent;color:#222!important}.form-section-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px!important;box-shadow:0 2px 6px #0000000f!important;border:1px solid #ebebeb;margin-bottom:16px}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding:12px 16px 8px!important;border-bottom:1px solid #f0f0f0}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--primary-color)!important}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:.95rem!important;font-weight:500;margin-bottom:0;color:var(--primary-color)}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-subtitle[_ngcontent-%COMP%]{font-size:.8rem;margin-bottom:0;color:var(--text-secondary)}.form-section-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding:12px 16px!important}.form-row[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:8px}.compact-row[_ngcontent-%COMP%]{gap:12px;margin-bottom:4px}.dense.mat-form-field[_ngcontent-%COMP%]{font-size:14px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{min-height:36px;padding:0 8px!important;background-color:#f7f9fc;border-radius:4px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:6px 0!important;border-top:6px solid transparent}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .dense.mat-form-field[_ngcontent-%COMP%]   .mat-select-value-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.2;color:#333}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#666!important;font-size:14px}.connection-icon-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:4px 0}.connection-icon-container[_ngcontent-%COMP%]   .connection-icon[_ngcontent-%COMP%]{color:var(--primary-color);font-size:20px;width:20px;height:20px}.element-option[_ngcontent-%COMP%]{display:flex;align-items:center}.element-option[_ngcontent-%COMP%]   .element-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--primary-color);font-size:18px;width:18px;height:18px}.element-option[_ngcontent-%COMP%]   .element-type[_ngcontent-%COMP%]{margin-left:auto;color:var(--text-secondary);font-size:12px}.status-option[_ngcontent-%COMP%]{display:flex;align-items:center}.status-option[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:8px}.status-option[_ngcontent-%COMP%]   .status-dot.active[_ngcontent-%COMP%]{background-color:var(--status-active)}.status-option[_ngcontent-%COMP%]   .status-dot.inactive[_ngcontent-%COMP%]{background-color:var(--status-inactive)}.status-option[_ngcontent-%COMP%]   .status-dot.warning[_ngcontent-%COMP%]{background-color:var(--color-warning)}.status-option[_ngcontent-%COMP%]   .status-dot.maintenance[_ngcontent-%COMP%]{background-color:var(--color-info)}.status-option[_ngcontent-%COMP%]   .status-dot.fault[_ngcontent-%COMP%]{background-color:var(--color-danger)}.status-option[_ngcontent-%COMP%]   .status-dot.planned[_ngcontent-%COMP%]{background-color:var(--status-planning)}.status-option[_ngcontent-%COMP%]   .status-dot.building[_ngcontent-%COMP%]{background-color:var(--color-warning)}.status-option[_ngcontent-%COMP%]   .status-dot.reserved[_ngcontent-%COMP%]{background-color:var(--color-success)}.status-option[_ngcontent-%COMP%]   .status-dot.decommissioned[_ngcontent-%COMP%]{background-color:var(--text-secondary)}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:12px 16px;background-color:#f5f7fa;border-top:1px solid #eaeaea}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{min-width:110px;font-size:14px;font-weight:500;border-radius:4px}.dialog-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dialog-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:4px}.dialog-actions[_ngcontent-%COMP%]   .button-spinner[_ngcontent-%COMP%]{display:inline-block;margin-left:8px}.connection-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.connection-preview[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;padding:8px 12px;border-radius:8px;box-shadow:0 1px 3px #0000000f}.connection-preview[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:var(--primary-color)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]{height:60px;width:100%;position:relative;display:flex;justify-content:center}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:3px;height:100%;background-color:var(--status-active)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.active[_ngcontent-%COMP%]{background-color:var(--status-active)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.inactive[_ngcontent-%COMP%]{background-color:var(--status-inactive)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.warning[_ngcontent-%COMP%]{background-color:var(--color-warning)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.maintenance[_ngcontent-%COMP%]{background-color:var(--color-info)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.fault[_ngcontent-%COMP%]{background-color:var(--color-danger)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .line.planned[_ngcontent-%COMP%]{background-color:var(--status-planning)}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border-radius:4px;padding:4px;white-space:nowrap;box-shadow:0 1px 3px #00000014}.connection-preview[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]   mat-chip-option[_ngcontent-%COMP%]{height:24px;min-height:24px;font-size:12px}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.dialog-header[_ngcontent-%COMP%]{padding:var(--spacing-md)}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{width:40px;height:40px}.dialog-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:var(--font-size-lg)}}.dark-theme[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background-color:var(--dark-bg-primary)}.dark-theme[_nghost-%COMP%]   .dialog-header.create[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header.create[_ngcontent-%COMP%]{background-color:rgba(var(--color-success-rgb),.2)}.dark-theme[_nghost-%COMP%]   .dialog-header.edit[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header.edit[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb),.2)}.dark-theme[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--dark-text-primary)}.dark-theme[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]{background-color:var(--dark-bg-primary)}.dark-theme[_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .preview-element[_ngcontent-%COMP%]{background-color:var(--dark-bg-secondary);color:var(--dark-text-primary)}.dark-theme[_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .connection-summary[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]{background-color:var(--dark-bg-secondary);color:var(--dark-text-primary)}.dark-theme[_nghost-%COMP%]   .element-option[_ngcontent-%COMP%]   .element-type[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .element-option[_ngcontent-%COMP%]   .element-type[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--dark-text-secondary)}.dark-theme[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{color:var(--dark-text-primary)}.form-section-card[_ngcontent-%COMP%]{margin-bottom:20px;background:#fcfcfd;border-radius:14px!important;box-shadow:0 2px 8px #3c3c3c12!important;border:1px solid #ececec;transition:box-shadow .2s}.form-section-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #3c3c3c21!important}.form-section-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section-card[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding-bottom:8px;border-bottom:1px solid #ececec;margin-bottom:8px}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%], .form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:500;color:#3f51b5;letter-spacing:.01em}.form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%], .form-section-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#b0b8d1!important;font-size:20px!important}.form-section-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding-top:8px}.form-section-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{gap:16px}.connection-summary[_ngcontent-%COMP%]   .connection-preview[_ngcontent-%COMP%]   .connection-details[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip-option.mat-mdc-chip-disabled[_ngcontent-%COMP%]{opacity:1;cursor:default;background-color:#00000014}.dense.mat-form-field[_ngcontent-%COMP%]{font-size:13px;min-height:36px;margin-bottom:8px;background:#f4f6fa;border-radius:8px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{min-height:36px;height:36px;border-radius:8px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:4px 0;min-height:24px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .dense.mat-form-field[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{font-size:13px;padding:2px 0;min-height:24px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%]{font-size:18px}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--primary-color)}.compact-row[_ngcontent-%COMP%]{gap:8px;margin-bottom:0}.compact-card[_ngcontent-%COMP%]{padding:8px 0 0}.compact-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{min-height:36px;padding-bottom:2px}.compact-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:15px}.compact-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.compact-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.compact-btn[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{border-radius:8px!important;font-weight:500;letter-spacing:.01em;box-shadow:0 1px 4px #3c3c3c12;transition:box-shadow .2s}.compact-btn[_ngcontent-%COMP%]:hover:not([disabled]), .save-button[_ngcontent-%COMP%]:hover:not([disabled]), .cancel-button[_ngcontent-%COMP%]:hover:not([disabled]){box-shadow:0 2px 8px #3c3c3c21}.compact-actions[_ngcontent-%COMP%]{padding:8px 16px;gap:8px}.compact-scroll[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding:12px 12px 0}.compact-connection-icon[_ngcontent-%COMP%]{padding:2px 0}.compact-connection-icon[_ngcontent-%COMP%]   .connection-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--primary-color)}.mat-icon[color=primary][_ngcontent-%COMP%]{color:var(--primary-color)!important}.small-title[_ngcontent-%COMP%]{font-size:1rem!important;font-weight:500;margin:0;line-height:1.1}.mat-card-title[_ngcontent-%COMP%], .section-title[_ngcontent-%COMP%]{font-size:.98rem!important;font-weight:500;margin-bottom:2px;line-height:1.1}.mat-card-subtitle[_ngcontent-%COMP%]{font-size:.85rem!important;font-weight:400;margin-bottom:0;color:var(--text-secondary)}.no-extra-scroll[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-bottom:0!important}.compact-scroll[_ngcontent-%COMP%], .dialog-content[_ngcontent-%COMP%], .no-extra-scroll[_ngcontent-%COMP%]{padding-bottom:0!important;color:#222!important;background:transparent}.dialog-content[_ngcontent-%COMP%]{padding:16px 16px 0!important}.dense.mat-form-field[_ngcontent-%COMP%]{background:#f4f6fa;border-radius:8px;color:#222!important}.dense.mat-form-field[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#8a8fa3!important;font-size:.95em}.debug-container[_ngcontent-%COMP%]{max-width:600px;display:flex;flex-direction:column;background:#fff;height:auto;overflow:hidden!important;border-radius:8px;box-shadow:0 2px 8px #00000026}.fixed-header[_ngcontent-%COMP%]{flex:0 0 auto;background:#f5f5f5;padding:12px 16px;display:flex;align-items:center}.fixed-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;margin-right:12px;background-color:#3f51b5}.fixed-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:18px;width:18px;height:18px}.fixed-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#333}.fixed-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:2px 0 0;color:#666;font-size:13px}.scrollable-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto!important;max-height:calc(80vh - 130px);padding:12px 16px;background:#fff}.fixed-footer[_ngcontent-%COMP%]{flex:0 0 auto;background:#f5f5f5;padding:12px 16px;display:flex;justify-content:flex-end;gap:12px;border-top:1px solid #e0e0e0}.debug-card[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e0e0e0;border-radius:8px;padding:16px;margin-bottom:16px}.debug-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:12px;font-size:15px;font-weight:500;color:#3f51b5}.form-row[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}  .mat-dialog-container{display:block;padding:0!important;overflow:hidden!important;max-height:none!important}  .cdk-overlay-pane{max-height:90vh!important}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fff!important}  .mat-input-element,   .mat-select-value,   .mat-select-arrow,   .mat-form-field-label{color:#333!important}'],data:{animation:[Oe]}})};export{y as a,Fe as b};
